name: CI
on: [workflow_dispatch, pull_request, push]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Prepare Python tooling and install spaCy model wheel
        run: |
          python -m pip install --upgrade pip setuptools wheel
          pip install "https://github.com/explosion/spacy-models/releases/download/en_core_web_sm-3.8.0/en_core_web_sm-3.8.0-py3-none-any.whl"

      - name: Run nbdev CI workflow
        uses: fastai/workflows/nbdev-ci@master